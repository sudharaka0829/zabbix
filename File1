- name: Create Zabbix maintenance definition via CLI
  hosts: localhost
  vars:
    zabbix_user: "your_zabbix_username"
    zabbix_pass: "your_zabbix_password"
    maintenance_name: "ansibletest1"
    description: "TEST1"
    host: "ASOMUMNWB101"
    period: "30m"
    data_collection: "off"
  tasks:
    - name: Run Zabbix CLI to create maintenance
      shell: |
        export ZABBIX_USER="{{ zabbix_user }}"
        export ZABBIX_PASSWORD="{{ zabbix_pass }}"
        /usr/local/bin/zabbix-cli create_maintenance_definition {{ maintenance_name }} \
        --description "{{ description }}" \
        --host {{ host }} \
        --period {{ period }} \
        --data-collection {{ data_collection }}
      environment:
        ZABBIX_USER: "{{ zabbix_user }}"
        ZABBIX_PASSWORD: "{{ zabbix_pass }}"